syntax = "proto3";
option go_package = "ChittyChat-Go.stc";

service ChittyChat {
    rpc Publish (ChatMessage) returns (ChatMessage) {}
    rpc Broadcast (User) returns (stream ChatMessage) {}
}

message ChatMessage {
    // the message
    string message = 1;

    // the user who is sending the message
    string user = 2;

    // the logical timestamp of the message
    int32 logicaltimestamp = 3;
}

message User {
    // the user who is joining the chat
    string user = 1;
}